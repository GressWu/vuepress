---
title: 原型模式
date: 2024-08-17
categories:
- DesignPattern
tags:
- Java
---

原型模式是一种创建型设计模式，旨在通过复制现有对象来创建新对象，而无需直接依赖于构造函数。这种模式涉及创建原型对象，然后通过克隆这些原型对象来创建新的对象。

## 原型模式的主要参与者：

原型接口（Prototype Interface）：定义了克隆自身的方法，通常是一个clone方法。

具体原型（Concrete Prototype）：实现了原型接口，负责实现克隆方法以生成新对象的副本。

客户端（Client）：负责创建新对象的客户端代码，通过请求原型对象克隆自身来创建新对象。

## 使用场景

* **对象创建成本较高**：当对象的创建过程复杂或者创建对象需要消耗大量资源时，使用原型模式可以避免重复创建对象，提高性能。

* **对象初始化过程复杂**：如果对象的初始化过程包含大量计算或依赖其他对象，可以使用原型模式来避免重新执行初始化逻辑。

* **保持对象状态一致性**：当需要创建一系列对象，但是这些对象之间的差异仅在于部分属性时，可以使用原型模式来保持对象状态的一致性。

* **动态配置对象**：原型模式允许在运行时动态配置对象，通过克隆现有对象并进行适当的修改，可以快速创建具有不同配置的对象。

* **减少子类的构造**：当一个系统中存在大量相似对象，但它们区别在于属性的不同组合时，可以使用原型模式来减少子类的构造，通过克隆原型对象来创建新对象。

* **保护对象的数据**：原型模式可以用于保护对象的数据，因为克隆操作不会影响原型对象的数据，从而避免对原始对象的修改。

## 实现方式
对于不同的应用场景，我们需要合理的选择实现方式。一种是浅拷贝，另一种是深拷贝。详见
[Java深拷贝与浅拷贝](http://112.124.58.32/java/javacopy.html)。